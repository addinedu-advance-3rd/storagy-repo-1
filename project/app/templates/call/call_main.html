{% extends "base.html" %}
{% block content %}
<div class="modal" id="alertModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">09bot</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="modalBody">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">확인</button>
        </div>
      </div>
    </div>
  </div>
<div class="container">
    <!--페이지 가져오기 --> 
    <div class="text-center" style="overflow: hidden; width: 100%; height: 70vh;">
      <iframe id="mapFrame" src="http://127.0.0.1:8000/" width="100%" height="100%" style="border: none;" scrolling="no"></iframe>
    </div>
    <script>
      function refreshMap() {
          var frame = document.getElementById("mapFrame");
          frame.src = "http://127.0.0.1:8000/";  // 자동 새로고침
      }
      setInterval(refreshMap, 1000);  // 1초마다 최신 페이지 로드
  </script>
</div>
    <div class="text-center mt-4">
        <button class="btn btn-secondary" btn-lg onclick="showAlert('A')">A구역 호출</button>
        <button class="btn btn-secondary" btn-lg onclick="showAlert('B')">B구역 호출</button>
    </div>
</div>
<script>
    function showAlert(message) {
        document.getElementById('modalBody').innerText = message + '구역으로 가고 있다. 조금만 기다려라.';
        $('#alertModal').modal('show');
    }
</script>
{% endblock %}